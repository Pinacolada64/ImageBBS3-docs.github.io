<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<meta name="author" content="Jack Followay, Jr., Ryan Sherwood, Larry Hedman, Al DeRosa">
<title>Image BBS 3.0 Programmer&#8217;s Reference Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Image BBS 3.0 Programmer&#8217;s Reference Guide</h1>
<div class="details">
<span id="author" class="author">Jack Followay, Jr.</span><br>
<span id="author2" class="author">Ryan Sherwood</span><br>
<span id="email2" class="email"><a href="mailto:sym.rsherwood@gmail.com">sym.rsherwood@gmail.com</a></span><br>
<span id="author3" class="author">Larry Hedman</span><br>
<span id="email3" class="email"><a href="mailto:larryhedman@gmail.com">larryhedman@gmail.com</a></span><br>
<span id="author4" class="author">Al DeRosa</span><br>
<span id="email4" class="email"><a href="mailto:bucko219@gmail.com">bucko219@gmail.com</a></span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">2021-04-14</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#truepreface">Preface</a></li>
<li><a href="#trueintroduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#truehow-to-use-this-guide">How to Use This Guide</a></li>
<li><a href="#truehow-to-get-help">How to Get Help</a></li>
</ul>
</li>
<li><a href="#trueprogramming-image-bbs-3-0">Programming Image BBS 3.0</a>
<ul class="sectlevel2">
<li><a href="#trueprogramming-etiquette">Programming Etiquette</a></li>
<li><a href="#trueim-subroutines"><code>im</code> Subroutines</a></li>
<li><a href="#truesub-module-jump-table"><code>sub.*</code> Module Jump Table</a></li>
<li><a href="#true-calls"><code>&amp;</code> Calls</a></li>
<li><a href="#trueimage-bbs-output-routine">Image BBS Output Routine</a></li>
</ul>
</li>
<li><a href="#truestatic-arrays-structures">Static Arrays (Structures)</a>
<ul class="sectlevel2">
<li><a href="#truenumeric-values-and-structures">Numeric Values and Structures</a></li>
<li><a href="#trueput-string">Put String</a></li>
<li><a href="#trueget-string">Get String</a></li>
<li><a href="#trueload-structure-from-disk">Load structure from disk</a></li>
<li><a href="#truesave-a-structure-to-disk">Save a structure to disk</a></li>
<li><a href="#trueput-date">Put Date</a></li>
<li><a href="#trueget-date">Get Date</a></li>
<li><a href="#truescan-structures">Scan Structures</a></li>
<li><a href="#truesort">Sort</a></li>
<li><a href="#truescan-numbers">Scan Numbers</a></li>
<li><a href="#truescan-sum">Scan Sum</a></li>
<li><a href="#truecopy-structure">Copy Structure</a></li>
<li><a href="#truescan-for-string">Scan for String</a></li>
<li><a href="#truegame-scan">Game Scan</a></li>
<li><a href="#truetext-read">Text Read</a></li>
</ul>
</li>
<li><a href="#truevariables">Variables</a>
<ul class="sectlevel2">
<li><a href="#trueinteger">Integer</a></li>
<li><a href="#truefloating-point">Floating Point</a></li>
<li><a href="#truestring">String</a></li>
<li><a href="#truearrays">Arrays</a></li>
</ul>
</li>
<li><a href="#truepokes-and-machine-language-routines">POKEs and Machine Language Routines</a></li>
<li><a href="#truelightbar-reference">Lightbar Reference</a>
<ul class="sectlevel2">
<li><a href="#truelightbar-numbering">Lightbar Numbering</a></li>
<li><a href="#truelightbar-interface-52">Lightbar Interface: <code>&amp;,52</code></a></li>
</ul>
</li>
<li><a href="#truememory-map">Memory Map</a></li>
<li><a href="#truefile-formats">File Formats</a>
<ul class="sectlevel2">
<li><a href="#trueintroduction-2">Introduction</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="truepreface"><a class="anchor" href="#truepreface"></a>Preface</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Preliminary start on documentation. Feedback welcome!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Welcome to the <em>Image BBS 3.0 Programmer&#8217;s Reference Guide</em>.</p>
</div>
<div class="paragraph">
<p>Image BBS has always been a versatile system, allowing a balance between the simplicity of operation and the power of customization with BASIC and ML programming.
With the advent of Image BBS v3.0, the power of the system has increased greatly.</p>
</div>
<div class="paragraph">
<p>Nearly the entire BBS can be customized completely online without the need for programming knowledge.  However, Image BBS v3.0 also provides for many powerful new programming tools not before available to the SysOp who desires complete customization of the BBS by changing the BASIC code.</p>
</div>
<div class="paragraph">
<p>This guide is designed to help such programmers use the Image Application Programming Interface (API) more productively.
A lot of hard work has gone into this manual as it was created while the BBS was still being developed.
Care was taken to document as much of the BBS as possible for just this purpose.
We hope you find this useful in creating the next generation of Image BBS applications.</p>
</div>
<div class="paragraph">
<p>Happy programming!</p>
</div>
<div class="paragraph text-right">
<p>&#8212;Jack Followay, Jr., Larry Hedman, Al DeRosa, and Ryan Sherwood</p>
</div>
<div class="paragraph text-right">
<p>&#8212;thanks to jam for editing help</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueintroduction"><a class="anchor" href="#trueintroduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the first official New Image BBS Programmer’s Reference Guide.
While there was an unofficial guide released for Image v1.2, we hoped to give SysOps something they could trust when questions arose about v3.0.
Nearly everyone who helped write Image v3.0 helped contribute to this guide.
I would like to personally thank everyone who was involved, but if I’ve forgotten anyone please forgive me!</p>
</div>
<div class="paragraph">
<p>Al DeRosa (Bucko)</p>
</div>
<div class="paragraph">
<p>Larry Gartin (Wheelman)</p>
</div>
<div class="paragraph">
<p>Ray Kelm (Professor)</p>
</div>
<div class="paragraph">
<p>John Moore (Little John)</p>
</div>
<div class="paragraph">
<p>Ryan Powers (MonOp)</p>
</div>
<div class="paragraph">
<p>Bob Sisko (Iron Axe)</p>
</div>
<div class="paragraph">
<p>Ed Wilson (Fred Krueger)</p>
</div>
<div class="paragraph">
<p>And most of all, I’d like to thank our dear friend, Fred Dart, to whom we owe the very existence of Image v2.0.
Without Fred, the project would have been lost forever.
It is in his memory that we dedicate Image BBS v3.0.</p>
</div>
<div class="sect2">
<h3 id="truehow-to-use-this-guide"><a class="anchor" href="#truehow-to-use-this-guide"></a>How to Use This Guide</h3>

</div>
<div class="sect2">
<h3 id="truehow-to-get-help"><a class="anchor" href="#truehow-to-get-help"></a>How to Get Help</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprogramming-image-bbs-3-0"><a class="anchor" href="#trueprogramming-image-bbs-3-0"></a>Programming Image BBS 3.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueprogramming-etiquette"><a class="anchor" href="#trueprogramming-etiquette"></a>Programming Etiquette</h3>

</div>
<div class="sect2">
<h3 id="trueim-subroutines"><a class="anchor" href="#trueim-subroutines"></a><code>im</code> Subroutines</h3>

</div>
<div class="sect2">
<h3 id="truesub-module-jump-table"><a class="anchor" href="#truesub-module-jump-table"></a><code>sub.*</code> Module Jump Table</h3>

</div>
<div class="sect2">
<h3 id="true-calls"><a class="anchor" href="#true-calls"></a><code>&amp;</code> Calls</h3>
<div class="paragraph">
<p><code>&amp;</code> is the command character <mark>FIXME</mark></p>
</div>
<div class="paragraph">
<p><code>&amp;,22,200</code> Wait 20 seconds (20 10/10ths of a second)</p>
</div>
<div class="paragraph">
<p><code>&amp;,23:if peek(780)=32 then&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>Test whether caller is hitting <kbd>Space</kbd>.</p>
</div>
</div>
<div class="sect2">
<h3 id="trueimage-bbs-output-routine"><a class="anchor" href="#trueimage-bbs-output-routine"></a>Image BBS Output Routine</h3>
<div class="paragraph">
<p><code>&amp;"bla","bla"</code> and <code>&amp;"bla &pound;!x"</code></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Outputting a string containing an MCI command or string variable does not work as expected. <em>i.e.</em>:
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>z$="&pound;$c &pound;#3&pound;# &pound;%c":&amp;"&pound;$z"</code></p>
</div>
<div class="paragraph">
<p>does not output the contents of <code>z$</code> (which is actually <code>c$</code>, and setting 3 leading spaces for <code>c%</code>).
Instead, do this:</p>
</div>
<div class="paragraph">
<p><code>z$="&pound;$c &pound;#3&pound;# &pound;%c":&amp;z$</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="true-by-itself"><a class="anchor" href="#true-by-itself"></a><code>&amp;</code> By Itself</h4>
<div class="paragraph">
<p>This is a quick way to output the contents of <code>a$</code>.</p>
</div>
<div class="paragraph">
<p><code>a$="Hello there<kbd>f6</kbd>":&amp;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="trueword-wrap"><a class="anchor" href="#trueword-wrap"></a>Word-Wrap</h4>
<div class="paragraph">
<p>Setting the variable <code>lp=1</code> and outputting text with <code>&amp;"&#8230;&#8203;"</code> word-wraps to 40 columns on the console, and whatever the remote side&#8217;s screen width is.</p>
</div>
<div class="paragraph">
<p>Setting <code>lp=0</code> disables word-wrap, and words do not break at margins.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truestatic-arrays-structures"><a class="anchor" href="#truestatic-arrays-structures"></a>Static Arrays (Structures)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Structures</em> allow you to store multiple types of data into memory reserved for arrays, and perform operations on these blocks of memory.
There are functions to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>put and get strings</p>
</li>
<li>
<p>manipulate Image-formatted 11-digit dates</p>
</li>
<li>
<p>sort and filter structures</p>
</li>
<li>
<p>collect information from structures and put it in another array</p>
</li>
<li>
<p>load and save structures</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>FIXME: more functions</mark></p>
</div>
<div class="paragraph">
<p>String data can be stored in a floating point or integer array.</p>
</div>
<div class="paragraph">
<p><em>Elements</em> are the individual &#8220;boxes&#8221; in the array that data is held in.
Let&#8217;s write a BASIC program to fill and display the elements of an integer array, and then we&#8217;ll show how to refer to the elements:</p>
</div>
<div class="paragraph">
<div class="title">Sample Array</div>
<p><mark>TODO: finish this</mark></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">10 print
20 end</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 1. Representation of Sample Array</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(0,0)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(0,1)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(0,2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(1,0)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(1,1)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(1,2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(2,0)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(2,1)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x%(2,2)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is suggested that you use numeric type arrays, since this will allow you to access the elements as numeric data, as well as put and get strings.</p>
</div>
<div class="paragraph">
<p>Floating point arrays (like <code>a()</code> or <code>b()</code>) use 5 bytes per element.
Integer arrays (like <code>a%()</code> or <code>b%()</code>) use 2 bytes per element.
When deciding to use structures, you should determine what types of data you will need to store, and how much memory that data will require.</p>
</div>
<div class="paragraph">
<p>As an example, let&#8217;s design a structure to hold a user’s handle, ID#, and password.
The handle requires 20 characters.
The ID is an integer type (never &gt; 32767) requiring 2 bytes.
The password is 15 characters.</p>
</div>
<div class="paragraph">
<p>Since the integers store in 2 bytes, the total number of bytes needed is 37.
Thirty-seven bytes would require 190 integer elements (38 bytes), <em>or</em> 8 floating point elements (40 bytes).
Since the ID# is an integer anyway, it would be best to use the integer array.
The definition would look like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>dim u%(18)</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Remember that arrays start at element 0!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course, you may want to store more than one of these structures in memory.
To do so, you would need a 2-dimensional array.  This would change the <code>dim</code> statement to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>dim u%(18,x-1)</pre>
</div>
</div>
<div class="paragraph">
<p>(Suppose that <em>x</em> is the number of structures you want.)</p>
</div>
<div class="paragraph">
<p>Now that you have the basic concept of the structure, let’s look in a little more detail.
Here is a byte-by-byte map of the structure we designed.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 2. Sample structure layout</caption>
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element Position</th>
<th class="tableblock halign-left valign-top">Byte Position</th>
<th class="tableblock halign-left valign-top">Data</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Bytes Used</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bytes 00-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID#</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bytes 02-21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element 11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bytes 22-36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element 18½</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte 37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 byte</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Because the unused byte is <em>not</em> on an even element boundary, it cannot be used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To refer to bytes in the structure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the first number in the array notation is the <em>element number</em> (like a field of a record in a RELative file)</p>
</li>
<li>
<p>the second number is the <em>byte number</em>.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Element number <code>0</code> and byte number <code>0</code> (<em>e.g.</em>, <code>u%(0,0)</code> is often used to hold the number of elements in the structure.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now down to the important part: how to use all of this!
The structure system is called with either <code>&amp;,60,<em>x</em>,&#8230;&#8203;</code> or <code>&amp;,68,<em>x</em>,&#8230;&#8203;</code>.</p>
</div>
<div class="paragraph">
<p>There are currently 14 sub-functions supported by the structure routines.
They are documented below.</p>
</div>
<div class="sect2">
<h3 id="truenumeric-values-and-structures"><a class="anchor" href="#truenumeric-values-and-structures"></a>Numeric Values and Structures</h3>
<div class="paragraph">
<p>The array used with structures is either an integer or floating point type.
To put numeric values into&#8212;&#8203;or get numeric values from&#8212;&#8203;a structure requires no special structure calls.</p>
</div>
<div class="paragraph">
<p>You may use code similar to the following examples:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 3. Get number from and put number into structure</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Get value</th>
<th class="tableblock halign-left valign-top">Put value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f=a%(3,3)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a%(3,3)=20</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Integer arrays can store values from <code>-32767</code> to <code>32768</code>.
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="trueput-string"><a class="anchor" href="#trueput-string"></a>Put String</h3>
<div class="paragraph">
<p>Sub-function <code>0</code> copies a string variable into a structure.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,0,<em>bytes</em>,<em>array()</em>,<em>string$</em></code></p>
</div>
<div class="paragraph">
<p><em>bytes</em>: how many bytes to request from the structure.</p>
</div>
<div class="paragraph">
<p><em>array()</em>: the array name assigned to the structure you&#8217;re reading the string from.</p>
</div>
<div class="paragraph">
<p><em>string$</em>: the string name to read the structure data into.</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,0,20,u%(1,1),na$</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Put a string:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,0</strong>,20,u%(1,1),na$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>of 20 bytes:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,0,<strong>20</strong>,u%(1,1),na$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>from the <code>u%()</code> array (element 1, record 1):</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,0,20,<strong>u%(1,1)</strong>,na$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>into the string variable <code>na$</code>:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,0,20,u%(11,2),<strong>na$</strong></code></p>
</div>
</div>
<div class="sect2">
<h3 id="trueget-string"><a class="anchor" href="#trueget-string"></a>Get String</h3>
<div class="paragraph">
<p>Sub-function 1 copies a string from a structure into a string variable.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,1,<em>bytes</em>,<em>array()</em>,<em>string$</em></code></p>
</div>
<div class="paragraph">
<p>The parameters <em>bytes</em>, <em>array()</em>, and <em>string$</em> are the same as <code>Put String</code> above.</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,1,20,u%(11,2),a$</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Get a string</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,1</strong>,20,u%(11,2),a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>of 20 bytes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,<strong>20</strong>,u%(11,2),a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>from array <code>u%</code> (element 11, byte 2)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,20,<strong>u%(11,2)</strong>,a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>into <code>a$</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,20,u%(11,2),<strong>a$</strong></code></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>In our earlier example user data structure, to access the third user’s password, you would:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>get a string:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,1</strong>,20,u%(11,2),a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>of 20 bytes:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,<strong>20</strong>,u%(11,2),a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>from the <code>u%</code> array (element 11, byte 2):</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,20,<strong>u%(11,2)</strong>,a$</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>into the string variable <code>a$</code>:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,1,20,u%(11,2),<strong>a$</strong></code></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueload-structure-from-disk"><a class="anchor" href="#trueload-structure-from-disk"></a>Load structure from disk</h3>
<div class="paragraph">
<p>Sub-function 2 loads the specified structure on disk into an array.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,2,0,<em>array()</em>,<em>filename$</em>,<em>device</em></code></p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,2,0,u%(0,0),dr$+"u.handles",dv%</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You do not have to load the file at the start of the array.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,2,0,</strong>u%(0,0),dr$+"u.handles",dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Load a structure:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,2,0</strong>,u%(0,0),dr$+"u.handles",dv%</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>0</code> is believed to be a necessary but ignored parameter.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Use the <code>u%()</code> array(element 0, byte 0):</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,2,0,<strong>u%(0,0)</strong>,dr$+"u.handles",dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Use the drive prefix <code>dr$</code>, plus the fictitious <code>"u.handles"</code> filename:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,2,0,u%(0,0),<strong>dr$+"u.handles"</strong>,dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><code>dv%</code> is the device number to load the structure from:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,2,0,u%(0,0),dr$+"u.handles",<strong>dv%</strong></code></p>
</div>
</div>
<div class="sect2">
<h3 id="truesave-a-structure-to-disk"><a class="anchor" href="#truesave-a-structure-to-disk"></a>Save a structure to disk</h3>
<div class="paragraph">
<p>Sub-function 3 saves a structure to a specified disk file.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,3,0,<em>array()</em>,<em>bytes</em>,<em>filename$</em>,<em>device</em></code></p>
</div>
<div class="paragraph">
<p>The parameters <em>array()</em>, <em>bytes</em>, and <em>filename$</em> are the same as usual.</p>
</div>
<div class="paragraph">
<p><em>device</em> should be gotten with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>dr=6:gosub 3</pre>
</div>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,3,0,u%(0,0),3*38,dr$+"u.handles",dv%</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Save a structure:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code><strong>&amp;,60,3,0</strong>,u%(0,0),3*38,dr$+"u.handles",dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>The starting element is specified with <em>array()</em>:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,3,0,<strong>u%(0,0)</strong>,3*38,dr$+"u.handles",dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><em>bytes</em>: the number of bytes per structure, multiplied by the number of structures (3 structures &times; 38 bytes in the example):</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,3,0,u%(0,0),<strong>3*38</strong>,dr$+"u.handles",dv%</code></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>drive prefix <code>dr$</code> + filename (the theoretical <code>u.handles</code>):</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>&amp;,60,3,0,u%(0,0),3*38,<strong>dr$+"u.handles"</strong>,dv%</code></p>
</div>
</div>
<div class="sect2">
<h3 id="trueput-date"><a class="anchor" href="#trueput-date"></a>Put Date</h3>
<div class="paragraph">
<p>Put an 11-digit date into a structure (stored in Binary Coded Decimal).</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,4,0,<em>array(a,b)</em>,<em>string$</em></code></p>
</div>
<div class="paragraph">
<p><em>array(a,b)</em>: array name(<code>a</code>=starting structure, <code>b</code>=starting byte)</p>
</div>
<div class="paragraph">
<p><em>string$</em>: the 11-digit date string</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>an$="10412208234":&amp;,60,4,0,u%(3,0),an$</pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">Details: Binary Coded Decimal</div>
<p>Structs store an 11-digit date in 3 bytes using Binary Coded Decimal (BCD) format.
Two decimal digits are stored per byte, using the high and low <em>nybbles</em> (i.e., two 4-bit halves of an 8-bit number).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>an$="10412208234":&amp;,60,4,0,u%(0,1),an$</pre>
</div>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Element</p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><code>u%(0,1)</code></p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><code>u%(0,2)</code></p></td>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><code>u%(0,3)</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><em>unused</em></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Binary</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%0001&nbsp;%0000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%0100&nbsp;%0001</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%0010&nbsp;%0010</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%0000&nbsp;%1000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%0010&nbsp;%0011</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>%0100</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>%xxxx</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</code></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>&nbsp;&nbsp;&nbsp;&nbsp;x</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueget-date"><a class="anchor" href="#trueget-date"></a>Get Date</h3>
<div class="paragraph">
<p>Get an 11-digit date from structure.
The date is stored in Binary Coded Decimal (BCD) format as shown above.</p>
</div>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,5,0,<em>array(a,b)</em>,<em>string$</em></code></p>
</div>
<div class="paragraph">
<p><em>array(a,b)</em>: array name(<code>a</code>=starting structure, <code>b</code>=starting byte)</p>
</div>
<div class="paragraph">
<p><em>string$</em>: string name</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,5,0,u%(0,1),an$:&amp;,15:&amp;an$</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>&amp;,60,5,0,u%(0,1),an$</code>: Get a date from the struct into <code>an$</code>.</p>
</li>
<li>
<p><code>&amp;,15</code>: convert <code>an$</code> into a long date string.</p>
</li>
<li>
<p><code>&amp;an$</code>: display the long date string.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truescan-structures"><a class="anchor" href="#truescan-structures"></a>Scan Structures</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,6,<em>num</em>,<em>bits</em>,<em>a(a,b)</em>,<em>b(a,b)</em>,<em>size</em>,<em>command</em>,<em>test</em></code></p>
</div>
<div class="paragraph">
<p><em>num</em>: # of structures to scan</p>
</div>
<div class="paragraph">
<p><em>bits</em>: the bits to set if true</p>
</div>
<div class="paragraph">
<p><em>a(a,b)</em>: starting flags(<em>element</em>,<em>byte</em>)</p>
</div>
<div class="paragraph">
<p><em>b(a,b)</em>: starting object(<em>element</em>,<em>byte</em>)</p>
</div>
<div class="paragraph">
<p><em>size</em>: size in bytes of struct</p>
</div>
<div class="paragraph">
<p><em>command</em>: command number:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>0: 2 byte and, &lt;&gt;0
1: 2 byte and, ==0
2: 2 byte cmp, &lt;
3: 2 byte cmp, &gt;=
4: date cmp, &lt;
5: date cmp, &gt;=</pre>
</div>
</div>
<div class="paragraph">
<p><em>test</em>: the object to test for
(apparently can be either a variable or a number, maybe the array number?)</p>
</div>
<div class="paragraph">
<div class="title">Example: <code>i.UD</code> from Image 2.0</div>
<p>The following code scans the U/D directory for entries which have an upload date older than <code>ld$</code>, (setting <code>$4f</code> on ud%(0,1) if the entry matches):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>3950 &amp;,60,6,rn,$4f,ud%(0,1),ud%(3,1),60,4,ld$:b%=a%</pre>
</div>
</div>
<div class="paragraph">
<p><em>&amp;,60,6</em>: scan struct</p>
</div>
<div class="paragraph">
<p><em>rn</em>: record number, how many structures to scan in the directory</p>
</div>
<div class="paragraph">
<p><em>$4f</em>: <code>%01001111</code> in binary, <mark>FIXME</mark> still researching the purpose of this</p>
</div>
<div class="paragraph">
<p><em>ud%(0,1)</em>: <mark>FIXME</mark></p>
</div>
<div class="paragraph">
<p><em>ud%(3,1)</em>: Upload date</p>
</div>
<div class="paragraph">
<p><em>60</em>: structure size, in bytes</p>
</div>
<div class="paragraph">
<p><em>4</em>: date comparison, <code>&lt;</code> (less than)</p>
</div>
<div class="paragraph">
<p><em>ld$</em>: last call date (the comparison object).
Can apparently be a string name, or number of an array?</p>
</div>
<div class="paragraph">
<div class="title">Returns</div>
<p><code>a%</code>: count of structures that the comparison returns as matching <code>test</code>.</p>
</div>
<div class="paragraph">
<p><code>b(a,b)</code>: the structure containing the comparisons matching <code>test</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="truesort"><a class="anchor" href="#truesort"></a>Sort</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,7,0,<em>a(a,b)</em>,<em>start?</em></code></p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,7,0,a$(p+1,i),n-p</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truescan-numbers"><a class="anchor" href="#truescan-numbers"></a>Scan Numbers</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,8,<em>num</em>,<em>size</em>,<em>acs</em>,<em>a(a,b)</em>,<em>a%(a)</em>,<em>start</em></code></p>
</div>
<div class="paragraph">
<p><em>num</em>: number of structures to scan</p>
</div>
<div class="paragraph">
<p><em>size</em>: size of the structure, in bytes</p>
</div>
<div class="paragraph">
<p><em>acs</em>: access level to filter results by</p>
</div>
<div class="paragraph">
<p><em>a(a,b)</em>: the structure to scan</p>
</div>
<div class="paragraph">
<p><em>a%(a)</em>: the structure to put the results in? <mark>FIXME</mark></p>
</div>
<div class="paragraph">
<p><em>start</em>: element to start scanning at</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>&amp;,60,8,rn,60,a,ud%(0,1),f%(1),1:f%(0)=a%</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Returns</div>
<p><code>a%</code>: <mark>FIXME</mark></p>
</div>
<div class="paragraph">
<p><code>a%(a)</code>: <mark>FIXME</mark></p>
</div>
</div>
<div class="sect2">
<h3 id="truescan-sum"><a class="anchor" href="#truescan-sum"></a>Scan Sum</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,9,<em>num</em>,<em>size</em>,<em>a(a,b)</em></code></p>
</div>
<div class="paragraph">
<p><em>num</em> number of structures to scan</p>
</div>
<div class="paragraph">
<p><em>size</em> size of structure</p>
</div>
<div class="paragraph">
<p><code>a(a,b)</code> structure(<em>element</em>,<em>byte</em>) to scan</p>
</div>
<div class="paragraph">
<div class="title">Returns</div>
<p><code>a%</code> <mark>FIXME</mark></p>
</div>
</div>
<div class="sect2">
<h3 id="truecopy-structure"><a class="anchor" href="#truecopy-structure"></a>Copy Structure</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,10,<em>size</em>,<em>a1(a,b)</em>,<em>a2(a,b)</em></code></p>
</div>
<div class="paragraph">
<p><code>size</code> size of structure</p>
</div>
<div class="paragraph">
<p><code>a1(a,b)</code> source structure</p>
</div>
<div class="paragraph">
<p><code>a2(a,b)</code> destination structure</p>
</div>
<div class="literalblock">
<div class="title">Example</div>
<div class="content">
<pre>4326 if x&lt;&gt;fb%(.,.) then for a=x to fb%(.,.)-1:&amp;,60,10,60,fb%(.,a+1),fb%(.,a):next</pre>
</div>
</div>
<div class="paragraph">
<p>Copy structure <code>a+1</code> to structure <code>a</code> in a loop.</p>
</div>
</div>
<div class="sect2">
<h3 id="truescan-for-string"><a class="anchor" href="#truescan-for-string"></a>Scan for String</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,11,<em>num</em>,<em>size</em>,<em>op</em>,<em>str</em>,<em>a1(a,b)</em>,<em>a2(b)</em>,<em>start</em></code></p>
</div>
<div class="paragraph">
<p><em>num</em></p>
</div>
<div class="paragraph">
<p><code>size</code> size of structure</p>
</div>
<div class="paragraph">
<p><code>op</code></p>
</div>
<div class="paragraph">
<p><code>str</code></p>
</div>
<div class="paragraph">
<p><code>a1(a,b)</code> source structure to scan</p>
</div>
<div class="paragraph">
<p><code>a2(b)</code> target structure to put results into</p>
</div>
<div class="paragraph">
<p><code>start</code></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 4. Arrays used by <code>Scan String</code></caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Number</th>
<th class="tableblock halign-left valign-top">Array</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tt$()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">editor text array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bb$()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dt$()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ed$()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nn$()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a%()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c%()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d%()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>e%()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f%()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ac%()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">access info</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>so%()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subops</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truegame-scan"><a class="anchor" href="#truegame-scan"></a>Game Scan</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,12,count,size,a$,a%(a,b),b$</code></p>
</div>
</div>
<div class="sect2">
<h3 id="truetext-read"><a class="anchor" href="#truetext-read"></a>Text Read</h3>
<div class="paragraph">
<div class="title">Syntax</div>
<p><code>&amp;,60,13,number,reclen,scan(),bits,text(),strlen</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truevariables"><a class="anchor" href="#truevariables"></a>Variables</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueinteger"><a class="anchor" href="#trueinteger"></a>Integer</h3>

</div>
<div class="sect2">
<h3 id="truefloating-point"><a class="anchor" href="#truefloating-point"></a>Floating Point</h3>

</div>
<div class="sect2">
<h3 id="truestring"><a class="anchor" href="#truestring"></a>String</h3>

</div>
<div class="sect2">
<h3 id="truearrays"><a class="anchor" href="#truearrays"></a>Arrays</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="truepokes-and-machine-language-routines"><a class="anchor" href="#truepokes-and-machine-language-routines"></a>POKEs and Machine Language Routines</h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>POKE</code>s could go away in favor of <code>&amp;,20</code> (interface read) and <code>&amp;,21</code> (interface write) commands.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truelightbar-reference"><a class="anchor" href="#truelightbar-reference"></a>Lightbar Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truelightbar-numbering"><a class="anchor" href="#truelightbar-numbering"></a>Lightbar Numbering</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Lightbar, page 1</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Sys</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Acs</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Loc</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Tsr</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Cht</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>New</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Prt</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>U/D</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00&nbsp;01</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">02&nbsp;03</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">04&nbsp;05</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">06&nbsp;07</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">08&nbsp;09</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10&nbsp;11</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12&nbsp;13</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14&nbsp;15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$00&nbsp;01</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">02&nbsp;03</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">04&nbsp;05</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">06&nbsp;07</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">08&nbsp;09</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0a&nbsp;0b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0c&nbsp;0d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0e&nbsp;0f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Lightbar, page 2</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Asc</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Ans</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Exp</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Unv</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Trc</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Bel</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Net</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Mac</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16&nbsp;17</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">18&nbsp;19</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20&nbsp;21</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">22&nbsp;23</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24&nbsp;25</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">26&nbsp;27</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">28&nbsp;29</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">30&nbsp;31</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$10&nbsp;11</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12&nbsp;13</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14&nbsp;15</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16&nbsp;17</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">18&nbsp;19</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1a&nbsp;1b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1c&nbsp;1d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1e&nbsp;1f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Lightbar, page 3</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Chk</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Mor</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Frd</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Sub</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Res</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Mnt</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Mnu</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Xpr</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32&nbsp;33</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">34&nbsp;35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">36&nbsp;37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">38&nbsp;39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">40&nbsp;41</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">42&nbsp;43</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">44&nbsp;45</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">46&nbsp;47</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$20&nbsp;21</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">22&nbsp;23</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24&nbsp;25</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">26&nbsp;27</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">28&nbsp;29</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2a&nbsp;2b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2c&nbsp;2d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2e&nbsp;2f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Lightbar, page 4</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Em3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Sc2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Scp</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Alt</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Trb</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DCD</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DSR</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$3e</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">48&nbsp;49</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50&nbsp;51</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">52&nbsp;53</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">54&nbsp;55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">56&nbsp;57</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58&nbsp;59</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">60&nbsp;61</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">62&nbsp;63</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$30&nbsp;31</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32&nbsp;33</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">34&nbsp;35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">36&nbsp;37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">38&nbsp;39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3a&nbsp;3b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3c&nbsp;3d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3e&nbsp;3f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Lightbar, page 5</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$40</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$42</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$44</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$46</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$48</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$4a</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$4c</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$4e</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64&nbsp;65</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">66&nbsp;67</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68&nbsp;69</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70&nbsp;71</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">72&nbsp;73</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">74&nbsp;75</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">76&nbsp;77</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">78&nbsp;79</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$40&nbsp;41</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">42&nbsp;43</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">44&nbsp;45</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">46&nbsp;47</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">48&nbsp;49</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4a&nbsp;4b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4c&nbsp;4d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4e&nbsp;4f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Lightbar, page 6</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$50</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$52</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$54</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$56</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$58</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$5a</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$5c</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$5e</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">80&nbsp;81</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">82&nbsp;83</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">84&nbsp;85</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86&nbsp;87</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">88&nbsp;89</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">90&nbsp;91</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">92&nbsp;93</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">94&nbsp;95</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$50&nbsp;51</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">52&nbsp;53</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">54&nbsp;55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">56&nbsp;57</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58&nbsp;59</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5a&nbsp;5b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5c&nbsp;5d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5e&nbsp;5f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Lightbar, page 7</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$60</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$62</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$64</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$66</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$68</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$6a</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$6c</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$6e</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">96&nbsp;97</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">98&nbsp;99</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">100&nbsp;101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">102&nbsp;103</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">104&nbsp;105</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">106&nbsp;107</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">108&nbsp;109</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">110&nbsp;111</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$60&nbsp;61</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">62&nbsp;63</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64&nbsp;65</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">66&nbsp;67</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68&nbsp;69</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6a&nbsp;6b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6c&nbsp;6d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6e&nbsp;6f</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Lightbar, page 8</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>At8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">112&nbsp;113</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">114&nbsp;115</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">116&nbsp;117</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">118&nbsp;119</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">120&nbsp;121</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">122&nbsp;123</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">124&nbsp;125</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">126&nbsp;127</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hex</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$70&nbsp;71</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">72&nbsp;73</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">74&nbsp;75</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">76&nbsp;77</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">78&nbsp;79</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7a&nbsp;7b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7c&nbsp;7d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7e&nbsp;7f</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="truelightbar-interface-52"><a class="anchor" href="#truelightbar-interface-52"></a>Lightbar Interface: <code>&amp;,52</code></h3>
<div class="sect3">
<h4 id="ampersand-lightbar"><a class="anchor" href="#ampersand-lightbar"></a>BASIC <code>&amp;,52</code> Commands</h4>
<div class="paragraph">
<p><code>&amp;,52,<em>position</em>,<em>mode</em></code></p>
</div>
<div class="paragraph">
<p><code>position</code> ranges from 0-127 decimal ($00-$7f hexadecimal--<code>&amp;,52,$30,0</code>, for example, is allowed).</p>
</div>
<div class="paragraph">
<p><code>mode</code> is 0-4 as used by BASIC.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clear checkmark at <em>position</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set checkmark at <em>position</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">toggle checkmark at <em>position</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read checkmark at <em>position</em>, return status in <code>a%</code>: 0=off, 1=on</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">move &#8220;lit&#8221; portion of lightbar to position 0-55 [<mark>FIXME</mark>: or 1-56?]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="trueassembly-example"><a class="anchor" href="#trueassembly-example"></a>Assembly Example</h4>
<div class="paragraph">
<p><mark>FIXME</mark></p>
</div>
<div class="paragraph">
<p>Mode 5 is reserved for use by ML routines, and is the equivalent of <code>&amp;,52,<em>x</em>,3</code> in BASIC. <code>ldx</code> with the flag to check, <code>jsr chkflags</code>, and the result (0 or 1) is returned in <code>.a</code>.</p>
</div>
<div class="listingblock">
<div class="title">checkflag.asm</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="6502" class="language-6502 hljs">ldx #$04	; lightbar flag number
jsr chkflag	; returns flag status (0=off, 1=on) in .a
bne flag_on
beq flag_off</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truememory-map"><a class="anchor" href="#truememory-map"></a>Memory Map</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During boot (contents of the ML file):</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Memory range</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$6C00</code> - <code>$6FFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wedge code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$7000</code> - <code>$7FFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">editor code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$8000</code> - <code>$83FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">garbage collector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$8400</code> - <code>$8DFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ECS code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$8E00</code> - <code>$93FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$9400</code> - <code>$97FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>swap1</code> code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$9800</code> - <code>$9BFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>swap2</code> code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$9C00</code> - <code>$9FFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>swap3</code> code</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Everything after this point is the same as the next section.</p>
</div>
<div class="paragraph">
<p>While running:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Memory range</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$0800</code>-<code>$0AFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RS232 driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$0B00</code>-<code>$0B7F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RS232 input buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$0B80</code>-<code>$0BFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RS232 output buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$0C00</code>-<code>$0FFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BASIC wedge</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1000</code>-<code>$12FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">temporary screen data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1300</code>-<code>$130F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chktbl</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1310</code>-<code>$13CF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bartbl</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$13D0</code>-<code>$13DF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">array pointers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$13E0</code>-<code>$13EC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">days per month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$13ED</code>-<code>$13EF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$13F0</code>-<code>$144F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sounds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1450</code>-<code>$147F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">net alarms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1480</code>-<code>$14FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASCII to CBM translation table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1500</code>-<code>$15FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CBM to ASCII translation table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1600</code>-<code>$161F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tblcta1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1620</code>-<code>$163F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tblcta2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1640</code>-<code>$165F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tblcta3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1660</code>-<code>$16E0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">alarm table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$16E0</code>-<code>$16FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1700</code>-<code>$1718</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lobytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1719</code>-<code>$1731</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hibytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1732</code>-<code>$174A</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lobytec</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$174B</code>-<code>$1763</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hibytec</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1764</code>-<code>$177F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1780</code>-<code>$17FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pmodetbl</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1800</code>-<code>$27FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">editor execution location (swapped in when needed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2800</code>-<code>$9FFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BASIC program area</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$A000</code>-<code>$BFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BASIC ROM / Image ML routines in RAM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$C000</code>-<code>$CAFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8220;Protocol&#8221; block for loadable ML code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$CB00</code>-<code>$CCFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">swapper area</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$CD00</code>-<code>$CDFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$CE00</code>-<code>$CDFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">buffer page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$CF00</code>-<code>$CFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">???</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$D000</code>-<code>$DFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I/O memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$D000</code>-<code>$DFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Character ROM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$D000</code>-<code>$DFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">editor swap location (code is here when waiting to run)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$E000</code>-<code>$FFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">KERNAL ROM / Image ML &#8220;swap&#8221; code in ROM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$E000</code>-<code>$E3FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">garbage collector swap module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$E400</code>-<code>$EDFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ECS swap module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$EE00</code>-<code>$F3FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Struct swap module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$F400</code>-<code>$F7FF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swap1 swap module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$F800</code>-<code>$FBFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swap2 swap module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$FC00</code>-<code>$FFFF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swap3 swap module</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="truefile-formats"><a class="anchor" href="#truefile-formats"></a>File Formats</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueintroduction-2"><a class="anchor" href="#trueintroduction-2"></a>Introduction</h3>
<div class="sect3">
<h4 id="truee-data"><a class="anchor" href="#truee-data"></a><code>e.data</code></h4>
<div class="paragraph">
<p><code>e.data</code> is a RELative file containing BBS configuration information, as well as BBS statistics.</p>
</div>
<div class="paragraph">
<p>The record size is 31 bytes.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 13. e.data File Format</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Record</th>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Possible Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total calls to the system</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(unused)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">one-time caller weed cutoff, in months</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(unused)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest user account # +1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13-16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(unused)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last caller handle</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default null password</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date/time of last user logoff</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prime Time info</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time allowed per call, Prime Time start, Prime Time end</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Reservation Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code>=None, <code>1</code>=One Call, <code>2</code>=All Calls. <code>,</code> <code>^</code>=No Password, or 1-14 Character Password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22-30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(unused)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next available user account #</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RS232 Device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code>=User Port <code>1</code>=SwiftLink</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33-34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(unused)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date/time of last log reset</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unused</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clock set device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code>=Manual, <code>3</code>=Lt.Kernal Port 1, <code>4</code>=Lt.Kernal Port 2, <code>8-29</code>=CMD Device #</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lt.Kernal device number</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoweed cutoff, in months</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default prompt color</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Printer secondary address</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Printer line feeds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code>=no, <code>10</code>=yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password mask character(s)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log start date</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBS time zone abbreviation/hour offset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>e.g.</em>, <code>EST0700</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>unused</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBS name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entering chat message</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exiting chat message</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Netsub ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">increments by 1 when net post/response made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BBS identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>e.g.</em>, <code>WN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System device, drive</p></td>
<td class="tableblock halign-left valign-top" rowspan="6"><p class="tableblock">For each of these records, devices and drives are in separate fields of each record (stored as two lines separated by a carriage return).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E-Mail device, drive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etcetera device, drive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory device, drive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module device, drive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User device, drive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Credits for new user</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2021-04-14 21:24:12 -0700
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>